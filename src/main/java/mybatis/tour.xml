<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="user.tour.model.TourBean">
	
	<!-- <insert id="insertTour" parameterType="myTourBean">
		INSERT INTO TOURLIST(
			NUM, NAME, THEMECODE, PRICE, DISCOUNT, REG_KEYWORD, SUMMARY, IMGURL, CONTENTS,
			POSTCODE, ADDRESS1, ADDRESS2, ADDRESS3, ADDRESS4, LATITUDE, LONGITUDE, CONTACT,
			REGDATE, REGID, MODDATE,READCOUNT, RECOMMEND, STEAMED, REVIEWCOUNT
		)
		VALUES(
			TOUR_SEQ.NEXTVAL, #{name}, #{themecode},#{price},#{discount}, #{reg_keyword},
			#{summary}, #{imgurl}, #{contents}, #{postcode}, #{address1}, #{address2}, #{address3}, #{address4},
			#{latitude}, #{longitude}, #{contact}, SYSDATE, #{regid}, SYSDATE, 0, 0, 0, 0
		)
	</insert> -->
	
	<select id="getTotalCount" resultType="int">
		SELECT COUNT(*) FROM TOURLIST
		<if test="address1 != null">
			AND ADDRESS1 = #{address1}
		</if>
		<if test="address2 != null">
			AND ADDRESS2 = #{address2}
		</if>
		<if test="themecode != null">
			AND THEMECODE IN(#{themecode})
		</if>
		<if test="searchName != null">
			AND NAME LIKE #{searchName}
		</if>
	</select>
	
	<select id="getTourList" resultType="myTourBean">
		SELECT NUM,NAME,THEMECODE,PRICE,DISCOUNT,REG_KEYWORD,SUMMARY,IMGURL,
		POSTCODE,ADDRESS1,ADDRESS2,ADDRESS3,ADDRESS4,READCOUNT,RECOMMEND,STEAMED,REVIEWCOUNT 
		FROM TOURLIST
		WHERE 1=1
		<if test="address1 != null">
			AND ADDRESS1 = #{address1}
		</if>
		<if test="address2 != null">
			AND ADDRESS2 = #{address2}
		</if>
		<if test="themecode != null">
			AND THEMECODE IN(#{themecode})
		</if>
		<if test="searchName != null">
			AND NAME LIKE #{searchName}
		</if>
		
	</select>
</mapper>