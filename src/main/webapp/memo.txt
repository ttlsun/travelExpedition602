-- DB

-- 커뮤니티테이블
DROP TABLE COMMUNITY;

CREATE COMMUNITY ( 
	NUM NUMBER NOT NULL PRIMARY KEY,
	REVIEWNUM NUMBER NOT NULL,
	REVIEWDIVISION VARCHAR2(2) NOT NULL,
	IMGURL VARCHAR2(60) NOT NULL,
	TITLE VARCHAR2(200) NOT NULL,
	CONTENTS CLOB,
	HITS NUMBER DEFAULT '0' NULL,
	RECOMMEND NUMBER DEFAULT '0' NULL,
	NORECOMMEND  NUMBER DEFAULT '0' NULL,
	STEAMED  NUMBER DEFAULT '0' NULL,
	STARRANKING  NUMBER DEFAULT '0' NULL,
	REGKEYWORD VARCHAR2(600) DEFAULT NULL,
	STATUS VARCHAR2(2) DEFAULT '01' NOT NULL,
	REG_ID VARCHAR2(45) NULL ,
	REG_DATE DATE DEFAULT SYSDATE NULL ,
	UPDATE_ID VARCHAR2(45) NULL,
	UPDATE_DATE DATE NULL 
);

COMMENT ON TABLE COMMUNITY IS '커뮤니티테이블';
COMMENT ON COLUMN COMMUNITY.NUM IS '커뮤니티 고유번호';
COMMENT ON COLUMN COMMUNITY.REVIEWNUM IS '후기 번호(캠핑/글램핑번호 or 관광지번호)';
COMMENT ON COLUMN COMMUNITY.REVIEWDIVISION IS '후기구분값(캠핑/글램핑후기(01) , 관광지후기(02)) ';
COMMENT ON COLUMN COMMUNITY.IMGURL IS '파일이미지URL명';
COMMENT ON COLUMN COMMUNITY.TITLE IS '제목';
COMMENT ON COLUMN COMMUNITY.CONTENTS IS '내용';
COMMENT ON COLUMN COMMUNITY.HITS IS '조회수';
COMMENT ON COLUMN COMMUNITY.RECOMMEND IS '추천수(좋아요)';
COMMENT ON COLUMN COMMUNITY.NORECOMMEND IS '비추천수';
COMMENT ON COLUMN COMMUNITY.STEAMED IS '찜수';
COMMENT ON COLUMN COMMUNITY.STARRANKING IS '별등급';
COMMENT ON COLUMN COMMUNITY.REGKEYWORD IS '등록키워드';
COMMENT ON COLUMN COMMUNITY.STATUS IS '커뮤니티상태값(01:노출/02:비노출)';
COMMENT ON COLUMN COMMUNITY.REG_ID IS '등록아이디';
COMMENT ON COLUMN COMMUNITY.REG_DATE IS '등록날짜';
COMMENT ON COLUMN COMMUNITY.UPDATE_ID IS '수정아이디';
COMMENT ON COLUMN COMMUNITY.UPDATE_DATE IS '수정날짜';

DROP SEQUENCE COMMUNITY_SEQ;
CREATE SEQUENCE COMMUNITY_SEQ
  INCREMENT BY 1
  START WITH 1
  MINVALUE 1
  MAXVALUE 10000
  NOCACHE;
  
--------------------------------------------------

-- 댓글테이블

DROP TABLE COMMENT;

CREATE COMMENT ( 
	NUM NUMBER NOT NULL PRIMARY KEY,
	COMMUNITYNUM NUMBER NOT NULL,
	REVIEWDIVISION VARCHAR2(2) NOT NULL,
	CONTENTS CLOB,
	REG_ID VARCHAR2(45) NULL ,
	REG_DATE DATE DEFAULT SYSDATE NULL
);

COMMENT ON TABLE COMMENT IS '댓글 테이블';
COMMENT ON COLUMN COMMENT.NUM IS '댓글 고유번호';
COMMENT ON COLUMN COMMENT.COMMUNITYNUM IS '커뮤니티 후기 고유번호';
COMMENT ON COLUMN COMMUNITY.REVIEWDIVISION IS '후기구분값(캠핑/글램핑후기(01) , 관광지후기(02)) ';
COMMENT ON COLUMN COMMENT.CONTENTS IS '내용';
COMMENT ON COLUMN COMMUNITY.REG_ID IS '등록아이디';
COMMENT ON COLUMN COMMUNITY.REG_DATE IS '등록날짜';

DROP SEQUENCE COMMENT_SEQ;
CREATE SEQUENCE COMMENT_SEQ
  INCREMENT BY 1
  START WITH 1
  MINVALUE 1
  MAXVALUE 10000
  NOCACHE;
  
--------------------------------------------------

-- 평가 등급 테이블 (저장용도)

DROP TABLE RATING;

CREATE RATING ( 
	REVIEWNUM NUMBER NOT NULL PRIMARY KEY,
	DIVISION VARCHAR2(2) NOT NULL,
	STARRANKING  NUMBER DEFAULT '0' NULL,
	REG_ID VARCHAR2(45) NULL ,
	REG_DATE DATE DEFAULT SYSDATE NULL,
	UPDATE_ID VARCHAR2(45) NULL,
	UPDATE_DATE DATE NULL 
);

COMMENT ON TABLE RATING IS '좋아요찜별 테이블';
COMMENT ON COLUMN RATING.REVIEWNUM IS '커뮤니티 후기 고유번호';
COMMENT ON COLUMN RATING.DIVISION IS '구분값(좋아요,찜,별)) ';
COMMENT ON COLUMN RATING.STARRANKING IS '별갯수 ';
COMMENT ON COLUMN RATING.REG_ID IS '등록아이디';
COMMENT ON COLUMN RATING.REG_DATE IS '등록날짜';
COMMENT ON COLUMN RATING.UPDATE_ID IS '수정아이디';
COMMENT ON COLUMN RATING.UPDATE_DATE IS '수정날짜';


DROP SEQUENCE RATING_SEQ;
CREATE SEQUENCE RATING_SEQ
  INCREMENT BY 1
  START WITH 1
  MINVALUE 1
  MAXVALUE 10000
  NOCACHE;
  
--------------------------------------------------

